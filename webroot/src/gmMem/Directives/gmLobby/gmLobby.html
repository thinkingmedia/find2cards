<div class="gmLobby">

    <div class="panel panel-default">
        <div class="panel-heading"><h3 class="panel-title">{{players.length}} Players</h3></div>
        <div class="panel-body">
            <div class="gmLobby-Loading" ng-show="state != ''">
                <i class="fa fa-spinner fa-pulse"></i>
            </div>
            <div ng-show="state == ''">
                <div class="gmLobby-Player" ng-repeat="player in players track by $index">
                    <div class="gmLobby-Player-Icon">
                        <gm-player image="{{player.user.image}}" value="43"></gm-player>
                    </div>
                    <div class="gmLobby-Player-Container">
                        <h1>{{player.user.name}}</h1>
                    </div>
                    <div class="gmLobby-Player-Ready">
                        <span ng-class="{'fa':true, 'fa-square-o':!player.ready, 'fa-check-square-o':player.ready}"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-default">
        <div ng-show="players.length != 4" class="panel-heading"><h3 class="panel-title">Waiting for {{4 -
            players.length}}
            more players...</h3></div>
        <div ng-show="players.length == 4" class="panel-heading"><h3 class="panel-title">Game about to start!</h3></div>

        <div class="panel-body gmLobby-Info">
            <gm-timer value="{{starts}}" expired="ctrl.play()"></gm-timer>
        </div>
    </div>

    <div class="btn-group btn-group-justified">
        <a ng-if="!ready" class="btn btn-success btn-lg" ng-click="ctrl.ready($event);"><i class="fa fa-check"></i> Are you ready?</a>
        <a ng-if="ready" class="btn btn-default btn-lg active" ng-click="ctrl.ready($event);"><i class="fa fa-check"></i> Are you ready?</a>
        <a class="btn btn-default btn-lg" ng-href="/lobbies/leave/{{game}}"><i class="fa fa-sign-out"></i> Leave</a>
    </div>

</div>
